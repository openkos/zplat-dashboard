(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c35cc142"],{"02b5":function(t,e,s){},"0a6e":function(t,e,s){"use strict";var r=s("02b5"),a=s.n(r);a.a},a25c:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"installer"},[s("el-card",{staticStyle:{padding:"40px"},attrs:{shadow:"never"}},[s("el-steps",{staticClass:"step",attrs:{active:t.step,"finish-status":"success"}},[s("el-step",{attrs:{title:"配置数据库"}}),s("el-step",{attrs:{title:"配置管理员账号"}}),s("el-step",{attrs:{title:"开始安装"}})],1),s("el-form",{directives:[{name:"show",rawName:"v-show",value:t.stepShown(0),expression:"stepShown(0)"}],staticClass:"form",attrs:{model:t.form.database,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"数据库类型",prop:"driver"}},[s("el-radio-group",{model:{value:t.form.database.driver,callback:function(e){t.$set(t.form.database,"driver",e)},expression:"form.database.driver"}},[s("el-radio",{attrs:{label:"sqlite3"}}),s("el-radio",{attrs:{label:"mysql"}}),s("el-radio",{attrs:{label:"postgres"}}),s("el-radio",{attrs:{label:"mssql"}})],1)],1),s("el-form-item",{attrs:{label:"DSN",prop:"dsn"}},[s("el-input",{model:{value:t.form.database.dsn,callback:function(e){t.$set(t.form.database,"dsn",e)},expression:"form.database.dsn"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.step++}}},[t._v("下一步")])],1)],1),s("el-form",{directives:[{name:"show",rawName:"v-show",value:t.stepShown(1),expression:"stepShown(1)"}],ref:"ruleForm",staticClass:"form",attrs:{model:t.form.administrator,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"管理员账号",prop:"email"}},[s("el-input",{model:{value:t.form.administrator.email,callback:function(e){t.$set(t.form.administrator,"email",e)},expression:"form.administrator.email"}})],1),s("el-form-item",{attrs:{label:"管理员密码",prop:"password"}},[s("el-input",{attrs:{type:"password"},model:{value:t.form.administrator.password,callback:function(e){t.$set(t.form.administrator,"password",e)},expression:"form.administrator.password"}})],1),s("el-form-item",{attrs:{label:"密码确认",prop:"passwordr"}},[s("el-input",{attrs:{type:"password"},model:{value:t.form.administrator.passwordr,callback:function(e){t.$set(t.form.administrator,"passwordr",e)},expression:"form.administrator.passwordr"}})],1),s("el-form-item",[s("el-button",{on:{click:function(e){t.step--}}},[t._v("上一步")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.step++}}},[t._v("下一步")])],1)],1),s("el-form",{directives:[{name:"show",rawName:"v-show",value:t.stepShown(2),expression:"stepShown(2)"}]},[s("el-form-item",[s("el-button",{on:{click:function(e){t.step--}}},[t._v("上一步")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("开始安装")])],1)],1)],1)],1)},a=[],o={data:function(){return{step:0,dsns:{sqlite3:"moreu.db",mysql:"user:pass@tcp(127.0.0.1:3306)/moreu?charset=utf8mb4&parseTime=True&loc=Local",postgres:"host=localhost user=moreu password=moreu dbname=moreu port=9920 sslmode=disable TimeZone=Asia/Shanghai",mssql:"sqlserver://moreu:LoremIpsum86@localhost:9930?database=moreu"},form:{database:{driver:"sqlite3",dsn:"moreu.db"},administrator:{email:"admin@moreu.io"}},rules:{}}},watch:{"form.database.driver":function(t,e){this.form.database.dsn=this.dsns[t]}},computed:{},methods:{stepShown:function(t){return this.step==t},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){t?(console.log(e.form),e.$moreu.configs.configsKeyPut(e.form.database,"database").then((function(t){e.$moreu.users.usersPost(e.form.administrator).then((function(){e.$router.push({name:"signin"})}))}))):console.log("error submit!!")}))}}},i=o,l=(s("0a6e"),s("2877")),n=Object(l["a"])(i,r,a,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-c35cc142.0f9b1bfe.js.map